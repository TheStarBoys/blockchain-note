# Synthetix

## 简介

Synthetix是一个建立在以太坊和 Optimistic 以太坊(建立在以太坊上的第二层扩展解决方案)上的去中心化流动性供应协议。合成资产和相关产品由股东通过Synthetix网络令牌(SNX)抵押，当锁定在staking合约中时，可以发行合成资产(synth)。这种抵押品池模型允许用户直接使用智能合约在synth之间执行转换，避免了对对手方的需求。这种机制解决了DEXs遇到的流动性和滑点问题。



![Architecture](http://assets.processon.com/chart_image/62f0b9df0e3e745348fa27fa.png)

所有的 Synths（合成资产）的价值由 SNX 支撑。以 400% 的超额抵押率质押 SNX 将铸造相应价值的 Synths，通过销毁 Synths 才能够释放质押的 SNX。抵押率可以在今后的治理中调整。

合成资产，在不需要持有任何底层资产的情况下，提供一个资产的敞口（比如 sUSD 对应了 USD），其跟踪对应底层资产的价格并且兑换率由 oracle 提供。

### SNX持有者质押 SNX 的动机

- 将获得兑换奖励，其在任何人与 Synthetix 的流动性发生交互时产生，每个交易都会生成交易费发送到 fee pool，SNX持有者可以每周提取一次相应比例的奖励。
- SNX staking rewards，来自协议的通货膨胀政策。根据 85% 的staking目标率每周调整通货膨胀的比例，每周调整10%的通货膨胀比率。如果 SNX 质押者的抵押率不低于目标阈值，将每周得到这部分成比例的代币奖励。

通过Synths的铸造和销毁可以调整 SNX 质押者的 C Ratio（Collateralisation Ratio），C Ratio将随着 SNX 和 Synths 的价格波动而波动。上述的机制可以确保SNX质押者维护他们自己的 C Ratio，并确保 Synths 有足够的抵押物做支撑以抵消价格波动。

### Stakers, debt, and pooled counterparties

SNX的股东在制造synth时会产生“债务”。根据汇率和网络内synth的供应，这种债务可以独立于其原始铸造价值而增加或减少。 例如，如果系统中100%的synth都是合成比特币(sBTC)，价格减半，系统中的债务就会减半，每个股东的债务也会减半。这意味着在另一种情况下，整个系统中只有一半的synth是sBTC，而BTC的价格翻了一番，系统的总债务和每个股东的债务将增加四分之一。

通过这种方式，SNX股东充当所有Synth交易所的汇集对手方;股东承担整个体系中债务的风险。他们可以选择通过在系统外部建立头寸来对冲这种风险。通过承担这种风险并允许在Synthetix上进行交易，股东有权获得系统产生的费用。

### 清算机制

作用：

- 激励质押者维持一个健康的 C Ratio，否则，他们将被清算
- 激励其他网络参与者，通过清算其他达到清算标准的质押者，积极的提高系统的 C Ratio
- 由于被禁用的、丢掉私钥的钱包无法使用协议进行清算，因此这是一个解决方案



## 架构

### Minting Synths

SNX持有者可以通过Synthetix智能合约锁定他们的SNX作为抵押品来制造sUSD。当SNX持有者铸造sUSD时步骤如下: 

- Synthetix合约检查SNX股东可以根据他们的SNX制造synth，这要求他们的抵押品比率低于目标c比率
- 当铸造或燃烧sUSD时，Debt share 发行给股东，以跟踪股东发行的债务金额
- 随着债务分配给股东，Synthetix合约指示sUSD合约发行新的金额。它将其添加到总供应中，并将新生成的sUSD分配给用户

如果SNX价格上涨，持股人的SNX的等值部分将自动解锁作为抵押品。例如，如果用户锁定了100美元的SNX作为抵押品，SNX的价值翻了一番，那么他们的SNX(总价值:200美元)的一半被锁定，另一半被解锁。如果他们愿意，额外解锁的SNX可以用来制造更多的sUSD。



### Exchanges

 智能合约处理Synth交换(本例中从sUSD到sBTC)所涉及的步骤如下:

- 烧录源Synth (sUSD)，这涉及减少该钱包地址的sUSD余额并更新sUSD的总供应。 
- 确定转换金额(即基于每种货币价格的汇率)。
- 收取交换费，并将费用作为sUSD发送到费用池，在那里它可以由SNX的股东索赔。 
- 剩余的(费用之后)由目的地Synth (sBTC)合约发出，钱包地址余额被更新。
- 更新sBTC总供应。

不需要交易对手，因为系统将债务从一个Synth转换为另一个Synth。因此，不需要订单簿或订单匹配，从而在synth之间产生无限的流动性。也不需要对债务池记录任何债务更改，因为从源Synth烧录的值和从目标Synth铸造的价值相同。



### Claiming Fees

当Synthetix流动性被用于通过Synthetix合约进行交换时，将提取费用并发送到费用池，由SNX股东领取。当领取fees时，质押者也要求他们的SNX staking奖励，以额外的SNX奖励他们根据他们目前拥有的SNX。一旦股东要求领取fees，智能合约的流程如下:

- 费用池检查当前是否有费用，以及股东是否有资格获得费用。 
- sUSD中的费用金额被发送到质押者的钱包地址，并更新费用池的余额。
-  此外，从SNX staking奖励合同中按比例分配托管的(通货膨胀)SNX到钱包地址。

费用是根据每个股东发行的债务比例分配的。例如，如果一个股东发行了1000 sUSD的债务，债务池为10,000 sUSD，在收费期间产生了100 sUSD的费用，该股东有权获得10 sUSD，因为他们的债务占债务池的10%。同样的比例分配机制用于SNX staking奖励。



### Burning debt

当SNX股东希望退出系统或减少债务并解锁所持SNX时，他们必须偿还债务。最简单的方法是:一个股东通过锁定SNX作为抵押品来创造10个sUSD，并且必须消耗10个sUSD来解锁它。但是，如果在他们被抵押的时候，债务池波动(因此他们的个人债务也会波动)，他们可能需要燃烧比他们创造的债务更多或更少的债务。将债务降为零的过程如下:

- Synthetix的合同决定他们的债务余额
- 烧录所需的sUSD数量，并更新sUSD的总供应量以及用户钱包中的sUSD余额。 
- 他们的SNX余额现在可以转移了。



### The debt pool

当股东制造或销毁sUSD时，系统通过向股东发行债务股份(代币)来跟踪债务池。股东的债务百分比将是他们的代币余额除以债务份额的总供应量。

例子: 

- Alice铸造了100sUSD，发行了100股债务股；Bob铸造了100sUSD，发行了100股债务股。Alice和Bob都拥有50%的债务股(100 / 200股) 

- 当总债务池价值波动时，股份将用于计算铸造商所欠的债务。例如，如果债务池现在翻倍到400sUSD，基于上述场景:
- Alice拥有50%(100股)，将会有200美元的债务；Bob拥有50%(100股)，将会有200美元的债务
- 燃烧sUSD减少了针对股东发行的债务股份的数量，并且燃烧的股份数量是根据债务池的总价值计算的。继续上面的例子，
- Alice现在烧了100个sUSD，也就是烧了(100 / 400) * 200股= 50股；Alice烧完之后会有50股，相当于债务池的1 / 3。Alice的剩余债务将是(50 / 150股) * 300 = 100 sUSD



### Oracles

Synthetix系统中所有合成资产的价值都是由推送链上价格的oracle决定的。它使用一种具有多种来源的算法来形成每项资产的总价值。 阅读更多关于在Synthetix协议中使用oracle的信息



### Current Risks and Risk Mitigation Strategies

#### Current Risks

目前的架构存在一些风险，因为Synthetix仍然是一个实验系统，复杂的系统需要经验观察和理论分析。实证观察和理论分析确保了机制设计对所有参与者的激励是一致的。

其中一个风险涉及SNX持有者在持有SNX并发行synth时发行的债务。如前所述，这种债务可能会因系统内的汇率变动而波动。这意味着要退出系统并解锁他们的SNX;他们可能需要燃烧更多的合成人。

加密货币领域的大多数人都意识到这种风险，但大多数加密资产的价格与比特币和/或以太坊高度相关。这意味着SNX代币可能会因为与SNX或Synthetix系统无关的原因而发生重大价格波动。

最后，系统的许多方面目前是集中的。作出这一决定是为了确保项目的有效执行。集中化的一个例子是跨大部分体系结构使用代理契约。这是为了确保系统可以很容易地升级，但同时赋予工程团队一定程度的控制，这需要用户的信任。虽然随着时间的推移，这些方面将逐步被淘汰，但了解当前系统架构中固有的风险是很重要的。

#### Risk Mitigation Strategies

作为一个去中心化的协议，Synthetix团队致力于去中心化和抵制审查——随着系统的成熟，这将是一个渐进的过程。这包括我们的价格反馈等关键领域。Chainlink是一家知名的去中心化oracle解决方案提供商，提供所有的oracle，而Synthetix不依赖于中心化解决方案。 另一个重要的领域是管理，Synthetic有一个委员会系统，帮助监督和管理协议。斯巴达议会(Spartan Council)是Synthetix的主要管理委员会，由社区选举产生，并决定对Synthetix进行哪些更改。



## 总结

Synthetix已经交付了迄今为止在以太坊上构建的最复杂和最有用的协议之一。但是，通过DeFi为复杂衍生品提供流动性的潜力尚未开发，Synthetix很高兴能够实现这一点。
